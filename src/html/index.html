<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' app: https://www.gstatic.com https://apis.google.com;">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Lista</title>
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/style.css">

    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div id="loading-screen">
        <div class="spinner"></div>
        <p>A carregar...</p>
    </div>

    <div id="app-content" class="hidden">
        <div id="update-notification" class="hidden">
            <p>Uma nova versão foi baixada!</p>
            <button id="restart-app-btn">Reiniciar e Atualizar</button>
        </div>
        <div id="title-bar">
            <div id="user-profile-area" title="Abrir menu do usuário">
                <img id="user-avatar" src="" alt="Avatar do utilizador">
                <span id="user-nickname">Utilizador</span>
                <i class="fas fa-chevron-down"></i> 
            </div>
            <div id="drag-region"></div>
            <div id="window-controls">
                <button id="minimize-btn" title="Minimizar">_</button>
                <button id="maximize-btn" title="Maximizar / Restaurar">☐</button>
                <button id="close-btn" title="Fechar">✕</button>
            </div>
        </div>
        <div class="main-content">
            <div id="list-tabs-container">
                <button class="list-tab active" data-list="anime">Anime</button>
                <button class="list-tab" data-list="serie">Série</button>
                <button class="list-tab" data-list="filme">Filme</button>
                <button class="list-tab" data-list="manga">Mangá</button>
                <button class="list-tab" data-list="livro">Livro</button>
                <button class="list-tab" data-list="hq">HQ</button>
            </div>
            <div id="listaContainer">
                <div id="controls-bar">
                    <button id="mostrarFormBtn" class="botao-add" title="Adicionar novo item">+</button>
                    <div class="search-container">
                        <i class="fas fa-magnifying-glass"></i>
                        <input type="text" id="pesquisaInput" placeholder="Pesquisar por nome...">
                    </div>
                    <button id="random-item-btn" title="Sortear item para ver/ler a seguir"><i class="fas fa-dice"></i></button>
                    <button id="filter-menu-btn">▾ Filtro: Todos</button>
                </div>
                <div class="cabecalho-lista">
                    <div class="col-group-left">
                        <strong class="coluna-status">
                            <div class="help-tooltip">
                                <i class="fas fa-circle-question"></i>
                                <span class="tooltip-text">
                                    Clique na bolinha para editar o status rapidamente!
                                </span>
                            </div>
                        </strong>
                        <strong class="coluna-nome" id="header-nome" title="Clique para ordenar">Nome <span id="sort-indicator"></span></strong>
                    </div>
                    <div class="col-group-middle"><strong class="coluna-temp" id="header-col-1">Temporada</strong><strong class="coluna-ep" id="header-col-2">Episódio</strong></div>
                    <div class="col-group-right"><strong class="coluna-acoes">&nbsp;</strong></div>
                </div>
                <div id="minhaLista"></div>
            </div>
        </div>
    </div>
    
    <div id="user-profile-dropdown" class="hidden">
        <button id="btn-settings"><i class="fas fa-gear"></i> Configurações</button>
        <button id="btn-logout"><i class="fas fa-right-from-bracket"></i> Sair</button>
    </div>

    <div id="dropdown-menu" class="hidden">
        <button id="btn-dropdown-edit"><i class="fas fa-pen-to-square"></i> Editar</button>
        <button id="btn-dropdown-delete"><i class="fas fa-trash"></i> Apagar</button>
    </div>

    <div id="status-dropdown" class="hidden">
        <button data-status="naoComecei">Não Comecei</button>
        <button data-status="assistindo">Lendo / Assistindo</button>
        <button data-status="terminado">Terminei</button>
        <button data-status="finalizado">Finalizado</button>
    </div>
    
    <div id="filter-dropdown" class="hidden">
        <button class="filter-option" data-filter="todos">Todos</button>
        <button class="filter-option" data-filter="naoComecei">Não Comecei</button>
        <button class="filter-option" data-filter="assistindo">Lendo / Assistindo</button>
        <button class="filter-option" data-filter="terminado">Terminei</button>
        <button class="filter-option" data-filter="finalizado">Finalizado</button>
    </div>
    
    <div id="modal-overlay" class="hidden">
        <div id="custom-modal"><h2 id="modal-title">Título</h2><p id="modal-message">Mensagem.</p><button id="modal-close-btn">OK</button></div>
    </div>
    
    <script src="../js/script.js" type="module"></script>
</body>
</html>